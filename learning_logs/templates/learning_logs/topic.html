{% extends 'learning_logs/base.html' %}

{% block header %}
    <h4><a href="{% url 'learning_logs:topics' %}">返回主题</a></h4>
    <h2>{{ topic }}</h2>
{% endblock header %}

{% block content %}

    <p>
        <a href="{% url 'learning_logs:new_entry' topic.id %}">增加日志</a>
    </p>
    
    {% for entry in entries %}

        <div class="panel panel-default">
            <div class="panel-heading">
                <h4>{{ entry.date_added|date:'M d, Y H:i' }}</h4>
                <small><a href="{% url 'learning_logs:edit_entry' entry.id %}">修改</a></small>
                <small><a href="{% url 'learning_logs:see_entry' entry.id %}">查看</a></small>
            </div>
            <div class="panel-body">
                {% if entry.text|length > 100 %}
                    {{ entry.text|linebreaks|slice:":100" }} ......
                {% else %}
                    {{ entry.text|linebreaks }}
                {% endif %}
            </div> 
        </div><!-- panel -->
    {% empty %}
            该主题还未添加日志
    {% endfor %}

{% endblock content %}