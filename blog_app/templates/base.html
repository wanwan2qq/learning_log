{% load static %}
{% load blog_extras %}
{% load bootstrap3 %}

<!DOCTYPE html>
<html>
<head>
    <title>Today</title>

    <!-- meta -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    {% bootstrap_css %}
    {% bootstrap_javascript %}

    <!-- 自定义css/icon/pace-进度条 -->
    <link rel="stylesheet" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link rel="stylesheet" href="{% static 'blog_app/css/pace.css' %}">
    <link rel="stylesheet" href="{% static 'blog_app/css/custom.css' %}">

    <!--Markdown样式文件替换
    <link href="https://cdn.bootcss.com/highlight.js/9.15.8/styles/github.min.css" rel="stylesheet">
    -->

    <link href="{% static 'mdeditor/css/editormd.min.css' %}" rel="stylesheet">
    <link href="{% static 'mdeditor/css/editormd.preview.css' %}" rel="stylesheet"> 

    <!-- 自定义js/icon/pace-进度条 -->
    <script src="{% static 'blog_app/js/pace.min.js' %}"></script>
    <script src="{% static 'blog_app/js/modernizr.custom.js' %}"></script>

    <!--百度统计-->
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?5dbdf44bf4b27201e985264d415acdd3";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

</head>

<body>

    <nav class="navbar navbar-default navbar-static-top">
        <div class="container">

            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed"
                    data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                </button>
                <a class="navbar-brand" href="{% url 'blog_app:index' %}">Today</a>
            </div>

            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li><a href="{% url 'blog_app:index' %}">首页</a></li>
                    <li><a href="{% url 'blog_app:my_blog' %}">博客</a></li>
                    <li><a href="{% url 'todo:todo_index' %}">任务</a></li>
                    <li><a href="{% url 'learning_logs:index' %}">日志</a></li>
                </ul>

                <ul class="nav navbar-nav navbar-right">
                    {% if user.is_authenticated %}
                        <li><a>你好, {{ user.username }}</a></li>
                        <li><a href="{% url 'users:logout' %}">退出</a></li>
                    {% else %}
                        <li><a href="{% url 'users:register' %}">注册</a></li>
                        <li><a href="{% url 'users:login' %}">登录</a></li>
                    {% endif %}
                </ul>
            </div><!-- /.nav-collapse -->
            
        </div>
    </nav>

    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}

    <div class="content-body">
        <div class="container">
            <div class="row">
                <main class="col-md-8">
                    {% block main %}
                    {% endblock main %}
                </main>
                {% block aside %}
                {% endblock aside %}
            </div>
            <div>
                {% block header %}{% endblock header %}
            </div>
            <div>
                {% block content %}{% endblock content %}
            </div>
        </div>
    </div>
    
    <!--代码高亮并增加行号
    <script src="{% static 'blog_app/js/script.js' %}"></script>
    <script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>
    <script src="https://cdn.bootcss.com/highlightjs-line-numbers.js/2.7.0/highlightjs-line-numbers.min.js"></script>
    <script>
        hljs.initHighlightingOnLoad();
        hljs.initLineNumbersOnLoad();
    </script>
    -->

</body>

</html>
